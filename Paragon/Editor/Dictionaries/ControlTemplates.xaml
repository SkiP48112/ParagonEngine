<ResourceDictionary
    x:Class="Editor.Dictionaries.ControlTemplates"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml">

    <Style x:Key="TextBoxStyle" TargetType="{x:Type TextBox}">
        <!--  TODO: define the visual look fo textbox here  -->
    </Style>
    <Style
        x:Key="{x:Type TextBox}"
        BasedOn="{StaticResource TextBoxStyle}"
        TargetType="{x:Type TextBox}">
        <EventSetter Event="KeyDown" Handler="OnTextBox_KeyDown" />
    </Style>

    <Style x:Key="SimpleButton" TargetType="{x:Type Button}">
        <Setter Property="Background" Value="{StaticResource Editor.Window.GrayBrush3}" />
        <Setter Property="BorderBrush" Value="{StaticResource Editor.Window.GrayBrush5}" />
        <Setter Property="Foreground" Value="{StaticResource Editor.FontBrush}" />
        <Setter Property="BorderThickness" Value="0" />
        <Setter Property="HorizontalContentAlignment" Value="Center" />
        <Setter Property="VerticalContentAlignment" Value="Center" />
        <Setter Property="VerticalAlignment" Value="Center" />
        <Setter Property="Padding" Value="0" />
        <Setter Property="Template">
            <Setter.Value>
                <ControlTemplate TargetType="{x:Type Button}">
                    <Border
                        x:Name="border"
                        Background="{TemplateBinding Background}"
                        BorderBrush="{TemplateBinding BorderBrush}"
                        BorderThickness="{TemplateBinding BorderThickness}"
                        SnapsToDevicePixels="True">
                        <ContentPresenter
                            x:Name="contentPresenter"
                            Margin="{TemplateBinding Padding}"
                            HorizontalAlignment="{TemplateBinding HorizontalContentAlignment}"
                            VerticalAlignment="{TemplateBinding VerticalAlignment}"
                            Focusable="False"
                            RecognizesAccessKey="True"
                            SnapsToDevicePixels="{TemplateBinding SnapsToDevicePixels}" />
                    </Border>
                    <ControlTemplate.Triggers>
                        <Trigger Property="IsMouseOver" Value="True">
                            <Setter TargetName="border" Property="Background" Value="{StaticResource Editor.Window.GrayBrush5}" />
                        </Trigger>
                    </ControlTemplate.Triggers>
                </ControlTemplate>
            </Setter.Value>
        </Setter>
    </Style>

    <Style x:Key="ParagonWindowStyle" TargetType="{x:Type Window}">
        <Setter Property="BorderBrush" Value="{StaticResource Editor.Selected.BackgroundBrush}" />
        <Setter Property="Background" Value="{StaticResource Editor.Window.GrayBrush1}" />
        <Setter Property="WindowChrome.WindowChrome">
            <Setter.Value>
                <WindowChrome
                    CaptionHeight="20"
                    CornerRadius="0"
                    GlassFrameThickness="0"
                    NonClientFrameEdges="None"
                    ResizeBorderThickness="{x:Static SystemParameters.WindowResizeBorderThickness}"
                    UseAeroCaptionButtons="False" />
            </Setter.Value>
        </Setter>
        <Setter Property="Template">
            <Setter.Value>
                <ControlTemplate TargetType="{x:Type Window}">
                    <Border Background="{TemplateBinding Background}" BorderBrush="{TemplateBinding BorderBrush}">
                        <Border.Style>
                            <Style TargetType="Border">
                                <Setter Property="BorderThickness" Value="1" />
                                <Style.Triggers>
                                    <DataTrigger Binding="{Binding RelativeSource={RelativeSource AncestorType={x:Type Window}}, Path=WindowState}" Value="Maximized">
                                        <Setter Property="BorderThickness" Value="{Binding Source={x:Static SystemParameters.WindowResizeBorderThickness}}" />
                                    </DataTrigger>
                                </Style.Triggers>
                            </Style>
                        </Border.Style>

                        <Grid>
                            <AdornerDecorator>
                                <ContentPresenter Margin="5,24,5,5" />
                            </AdornerDecorator>

                            <DockPanel VerticalAlignment="Top" LastChildFill="False">
                                <DockPanel.Resources>
                                    <Style TargetType="Path">
                                        <Setter Property="Stroke" Value="{Binding Foreground, RelativeSource={RelativeSource AncestorType=Button}}" />
                                        <Setter Property="StrokeThickness" Value="1" />
                                    </Style>

                                    <Style TargetType="Button" BasedOn="{StaticResource SimpleButton}">
                                        <Setter Property="Width" Value="24" />
                                        <Setter Property="Height" Value="14" />
                                        <Setter Property="Margin" Value="0,2,1,0" />
                                        <Setter Property="VerticalAlignment" Value="Top" />
                                        <Setter Property="SnapsToDevicePixels" Value="True" />
                                        <Setter Property="DockPanel.Dock" Value="Right" />
                                        <Setter Property="WindowChrome.IsHitTestVisibleInChrome" Value="True" />
                                    </Style>
                                </DockPanel.Resources>


                                <TextBlock
                                    Margin="5,2,0,0"
                                    VerticalAlignment="Center"
                                    DockPanel.Dock="Left"
                                    FontWeight="Bold"
                                    Foreground="{StaticResource Editor.FontBrush}"
                                    Text="{TemplateBinding Title}" />

                                <Button x:Name="btnClose" Click="OnCloseButton_Click">
                                    <Button.Content>
                                        <Grid>
                                            <Path Margin="0" Data="M1, 1.5L 8, 8.5" />
                                            <Path Margin="0" Data="M1, 8.5L 8, 1.5" />
                                        </Grid>
                                    </Button.Content>
                                </Button>

                                <Button x:Name="btnRestore" Click="OnMaximizeRestoreButton_Click">
                                    <Button.Content>
                                        <Rectangle
                                            Width="10"
                                            Height="8"
                                            Stroke="{StaticResource Editor.FontBrush}"
                                            StrokeThickness="1" />
                                    </Button.Content>
                                </Button>

                                <Button x:Name="btnMinimize" Click="OnMinimizeButton_Click">
                                    <Button.Content>
                                        <Rectangle
                                            Width="10"
                                            Height="1"
                                            Margin="0,4,0,0"
                                            Stroke="{StaticResource Editor.FontBrush}"
                                            StrokeThickness="1" />
                                    </Button.Content>
                                </Button>
                            </DockPanel>
                        </Grid>
                    </Border>
                </ControlTemplate>
            </Setter.Value>
        </Setter>
    </Style>
</ResourceDictionary>